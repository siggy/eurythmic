<!doctype html>
<html>
  <head>
    <style>
      html { height: 100%; width: 100% }
      body { height: 100%; width: 100% }
      #flat {
        height: 10%;
        width: 10%;
        position: absolute;
        top: 45%;
        left: 45%;
        background: purple;
      }

      #flat2 {
        height: 10%;
        width: 10%;
        position: absolute;
        top: 80%;
        left: 80%;
        background: red;
      }
    </style>
  </head>
  <body>
    <div id="flat"></div>
    <div id="flat2"></div>

    <script>
      var flat = document.getElementById("flat"),
          flatStyle = flat.style,
          _transform = "WebkitTransform" in flatStyle ? "WebkitTransform" :
            "MozTransform" in flatStyle ? "MozTransform" :
              "msTransform" in flatStyle ? "msTransform" : false;

      var flat2 = document.getElementById("flat2"),
          flat2Style = flat2.style;

      _transform && window.addEventListener("deviceorientation", function(e) {
        flatStyle[_transform] = "perspective(500px) rotateY("+(-e.gamma)+"deg) rotateX("+e.beta+"deg) rotateZ("+-(e.alpha-180)+"deg)";
        flat2Style[_transform] = "perspective(500px) rotateZ("+(e.alpha-180)+"deg) rotateX("+e.beta+"deg) rotateY("+(-e.gamma)+"deg)";
      });
    </script>
  </body>
</html>

