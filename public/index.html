<!-- borrowed from: http://demos.peterfriese.de/gyro/gyro.html. -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <title>Eurythmic</title>
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style>
    </style>
  </head>

  <body>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      var socket = io();

      function handleMotion(event) {
        socket.emit('phone', {
          motion: {
            acceleration: event.acceleration,
            accelerationIncludingGravity: event.accelerationIncludingGravity,
            rotationRate: event.rotationRate,
            interval: event.interval
          }
        });
      }

      function handleOrientation(event) {
        socket.emit('phone', {
          orientation: {
            alpha: event.alpha,
            beta: event.beta,
            gamma: event.gamma,
          }
        });
      }

      if (window.DeviceOrientationEvent !== undefined) {
        window.addEventListener("deviceorientation", handleOrientation, false);
        window.addEventListener("devicemotion", handleMotion, false);
      }
      </script>
    </body>
</html>
